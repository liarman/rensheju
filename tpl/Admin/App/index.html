<!DOCTYPE html>
<html lang="en">
<head>
    <script src="__EASYUI__/jquery.min.js"></script>
    <script src="__EASYUI__/jquery.easyui.min.js"></script>
    <script src="__EASYUI__/locale/easyui-lang-zh_CN.js"></script>
    <script src="__EASYUI__/ajaxSetup.js"></script>
    <link rel="stylesheet" href="__EASYUI__/super/css/font-awesome.min.css">
    <link rel="stylesheet" href="__EASYUI__/super/superRed.css" id="themeCss">
    <script src="__EASYUI__/super/super.js"></script>
    <script src="__ADMIN_JS__/index.js" type="text/javascript" charset="utf-8"></script>

    <link href="__PUBLIC__/statics/css/admin.css" rel="stylesheet" />
    <script src="__EASYUI__/common.js"></script>
    <script src="__EASYUI__/formatter.js"></script>
    <script src="__EASYUI__/extend/validate.js"></script>
    <script src="__KINDEDITOR__/kindeditor-all.js"></script>
    <script src="__KINDEDITOR__/lang/zh-CN.js"></script>
    <script type="text/javascript">
        var addCustomerUrl="{:U('Admin/App/add')}";
        var editCustomerUrl="{:U('Admin/App/edit')}";
        var deleteCustomerUrl="{:U('Admin/App/delete')}";
    </script>
</head>
<body style="padding: 0">
<div id='Loading'><image src='__PUBLIC_IMAGES__/loading.gif'/>加载中....</div>
<script src="__ADMIN_JS__/app.js" type="text/javascript" charset="utf-8"></script>
<table id="CustomerGrid" class="easyui-datagrid" style="width:92%;height:800px" url="{:U('Admin/App/ajaxCustomerList')}" pagination="true"  toolbar="#toolbar_Customer" singleSelect="true" rownumbers="true">
    <thead>
    <tr>
        <th field="phone" width="200" >手机号</th>
    </tr>
    </thead>
</table>
<div id="toolbar_Customer">
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-plus" plain="true" onclick="addCustomer()">添加</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-edit" plain="true" onclick="editCustomer()">编辑</a>
    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="fa fa-remove" plain="true" onclick="destroyCustomer()">删除</a>
</div>
<!-- 添加 -->
<div id="addCustomer" class="easyui-dialog" title="添加" style="width:400px;padding:10px 20px;" closed="true" modal="true">
    <form id="addCustomerForm" method="post">
        <table>
            <tr>
                <td>手机号:</td>
                <td><input name="phone" class="easyui-textbox" data-options="delay:1000,required:true,validType:'Customer[6,20]' " /></td>
            </tr>
            <tr>
                <td>密码:</td>
                <td><input name="password"  class="easyui-passwordbox" data-options="delay:1000,required:true,validType:'password[6,20]' " /></td>
            </tr>
            <tr>
                <td>所属村镇:</td>
                <td>
                    <input id="pid" name="villageid" url="{:U('Admin/App/ajaxVillageList')}" valueField="id" textField="name">
                </td>
            </tr>
            <tr>
                <td></td>
                <td><a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-ok" onclick="addCustomerSubmit()" style="width:90px">保存</a>
                    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#addCustomer').dialog('close')" style="width:90px">取消</a></td>
            </tr>
        </table>

    </form>
</div>
<div id="editCustomer" class="easyui-dialog" title="编辑" style="width:400px;padding:10px 20px;" closed="true" modal="true">
    <form id="editCustomerForm" method="post">
        <input type="hidden" name="id" value="">
        <table>
            <tr>
                <td>手机号:</td>
                <td><input name="username" class="easyui-textbox" data-options="delay:1000,required:true,validType:'Customer[6,20]' " /></td>
            </tr>
            <tr>
                <td>密码:</td>
                <td><input name="password" prompt="不填写则为原密码"  class="easyui-passwordbox" /></td>
            </tr>
            <tr>
                <td>所属村镇:</td>
                <td>
                    <input id="vpid" name="villageid" url="{:U('Admin/App/ajaxVillageList')}" valueField="id" textField="name">
                </td>
            </tr>
            <tr>
                <td></td>
                <td><a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-ok" onclick="editCustomerSubmit()" style="width:90px">保存</a>
                    <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-cancel" onclick="javascript:$('#editCustomer').dialog('close')" style="width:90px">取消</a></td>
            </tr>
        </table>

    </form>
</div>

</body>
</html>
